{"version":"0.1.0","name":"civicchain","instructions":[{"name":"initializeUser","accounts":[{"name":"userAccount","isMut":true,"isSigner":false},{"name":"payer","isMut":true,"isSigner":true},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[{"name":"userPubkey","type":"publicKey"},{"name":"initialRep","type":"u32"},{"name":"role","type":{"defined":"UserRole"}}]},{"name":"createIssue","accounts":[{"name":"issueAccount","isMut":true,"isSigner":false},{"name":"userAccount","isMut":true,"isSigner":false},{"name":"authority","isMut":true,"isSigner":true},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[{"name":"issueHash","type":{"array":["u8",32]}},{"name":"category","type":{"defined":"IssueCategory"}},{"name":"priority","type":"u8"}]},{"name":"recordVote","accounts":[{"name":"issueAccount","isMut":true,"isSigner":false},{"name":"reporterAccount","isMut":false,"isSigner":false},{"name":"voterAccount","isMut":false,"isSigner":false},{"name":"voter","isMut":false,"isSigner":true}],"args":[{"name":"voteType","type":{"defined":"VoteType"}}]},{"name":"recordVerification","accounts":[{"name":"issueAccount","isMut":true,"isSigner":false},{"name":"verifierAccount","isMut":true,"isSigner":false},{"name":"verifier","isMut":false,"isSigner":true}],"args":[]},{"name":"updateIssueStatus","accounts":[{"name":"issueAccount","isMut":true,"isSigner":false},{"name":"governmentAccount","isMut":false,"isSigner":false},{"name":"government","isMut":false,"isSigner":true}],"args":[{"name":"newStatus","type":{"defined":"IssueStatus"}}]},{"name":"updateReputation","accounts":[{"name":"userAccount","isMut":true,"isSigner":false},{"name":"authority","isMut":false,"isSigner":true}],"args":[{"name":"newRep","type":"u32"}]}],"accounts":[{"name":"UserAccount","type":{"kind":"struct","fields":[{"name":"walletAddress","type":"publicKey"},{"name":"reputation","type":"u32"},{"name":"role","type":{"defined":"UserRole"}},{"name":"totalIssues","type":"u32"},{"name":"totalVerifications","type":"u32"},{"name":"createdAt","type":"i64"},{"name":"bump","type":"u8"}]}},{"name":"IssueAccount","type":{"kind":"struct","fields":[{"name":"issueHash","type":{"array":["u8",32]}},{"name":"reporter","type":"publicKey"},{"name":"status","type":{"defined":"IssueStatus"}},{"name":"category","type":{"defined":"IssueCategory"}},{"name":"priority","type":"u8"},{"name":"upvotes","type":"u32"},{"name":"downvotes","type":"u32"},{"name":"verifications","type":"u32"},{"name":"createdAt","type":"i64"},{"name":"updatedAt","type":"i64"},{"name":"bump","type":"u8"}]}}],"types":[{"name":"UserRole","type":{"kind":"enum","variants":[{"name":"Citizen"},{"name":"Government"}]}},{"name":"IssueStatus","type":{"kind":"enum","variants":[{"name":"Open"},{"name":"InProgress"},{"name":"Resolved"},{"name":"Closed"}]}},{"name":"IssueCategory","type":{"kind":"enum","variants":[{"name":"Pothole"},{"name":"Garbage"},{"name":"Streetlight"},{"name":"Water"},{"name":"Other"}]}},{"name":"VoteType","type":{"kind":"enum","variants":[{"name":"Upvote"},{"name":"Downvote"}]}}],"errors":[{"code":6000,"name":"Overflow","msg":"Arithmetic overflow occurred"},{"code":6001,"name":"InvalidStatus","msg":"Invalid status for this operation"},{"code":6002,"name":"Unauthorized","msg":"Unauthorized: Only government users can perform this action"}]}